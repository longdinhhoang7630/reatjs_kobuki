{"ast":null,"code":"var _jsxFileName = \"/home/longdh/Music/kobuki_web_source/src/components/Camera/Camera2.js\";\nimport React, { Component } from \"react\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport \"./Camera.css\";\n\nvar tempImage = require('./not-available.png');\n\nclass Camera2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enableCamera: false\n    };\n    this.ros = props.ros || null;\n    this.subCamera = null;\n    this.subcribeCameraTopic = this.subcribeCameraTopic.bind(this);\n    this.unsubscribeCameraTopic = this.unsubscribeCameraTopic.bind(this);\n  }\n\n  componentDidMount() {}\n\n  componentDidUpdate() {\n    if (this.ros == null) {\n      this.ros = this.props.ros;\n      this.subCamera = new ROSLIB.Topic({\n        ros: this.ros,\n        name: '/camera_02/rgb/image_rect_color/compressed',\n        messageType: 'sensor_msgs/CompressedImage'\n      });\n    }\n  }\n\n  subcribeCameraTopic() {\n    this.subCamera.subscribe(function (message) {\n      document.getElementById('camera_id2').src = \"data:image/jpg;base64,\" + message.data;\n    });\n  }\n\n  unsubscribeCameraTopic() {\n    if (this.subCamera) {\n      this.subCamera.unsubscribe();\n      document.getElementById('camera_id2').src = tempImage;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"box-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card ml-2 border-white bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"text-white\",\n      style: {\n        fontSize: \"32px\",\n        paddingTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 86\n      }\n    }, \"Camera 2\")), /*#__PURE__*/React.createElement(\"hr\", {\n      style: {\n        borderTop: \"1px solid rgb(177,235,177)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: \"1rem 0rem 0rem 0rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-white x-large\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \"Enable Camera\"), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"switch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: event => {\n        this.setState({\n          enableCamera: event.target.checked\n        });\n        if (this.state.enableCamera) this.unsubscribeCameraTopic();else this.subcribeCameraTopic();\n      },\n      checked: this.state.enableCamera,\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"slider round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(Container, {\n      className: \"camera-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"camera_id2\",\n      width: 320,\n      src: tempImage,\n      alt: \"new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default Camera2;","map":{"version":3,"sources":["/home/longdh/Music/kobuki_web_source/src/components/Camera/Camera2.js"],"names":["React","Component","Container","Card","Col","Row","ROSLIB","tempImage","require","Camera2","constructor","props","state","enableCamera","ros","subCamera","subcribeCameraTopic","bind","unsubscribeCameraTopic","componentDidMount","componentDidUpdate","Topic","name","messageType","subscribe","message","document","getElementById","src","data","unsubscribe","render","fontSize","paddingTop","borderTop","padding","event","setState","target","checked"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport \"./Camera.css\";\n\nvar tempImage = require('./not-available.png');\n\nclass Camera2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enableCamera: false,\n    };\n    this.ros = props.ros || null;\n    this.subCamera = null;\n    this.subcribeCameraTopic = this.subcribeCameraTopic.bind(this);\n    this.unsubscribeCameraTopic = this.unsubscribeCameraTopic.bind(this);\n  }\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n    if (this.ros == null) {\n      this.ros = this.props.ros;\n      this.subCamera = new ROSLIB.Topic({\n        ros: this.ros,\n        name: '/camera_02/rgb/image_rect_color/compressed',\n        messageType: 'sensor_msgs/CompressedImage'\n      });\n    }\n  }\n\n  subcribeCameraTopic() {\n    this.subCamera.subscribe(function(message) {\n      document.getElementById('camera_id2').src = \"data:image/jpg;base64,\" + message.data;\n    });\n  }\n  unsubscribeCameraTopic() {\n    if (this.subCamera) {\n      this.subCamera.unsubscribe();\n      document.getElementById('camera_id2').src = tempImage;\n    }\n  }\n  render() {\n    return (\n      <Container className=\"box-margin\">\n        <div className=\"card ml-2 border-white bg-dark\">\n          <h5 className=\"text-white\" style={{ fontSize: \"32px\", paddingTop:\"10px\" }}><strong>Camera 2</strong></h5>\n          <hr style={{borderTop: \"1px solid rgb(177,235,177)\"}}></hr>\n          <div style={{ padding: \"1rem 0rem 0rem 0rem\" }}>\n            <Row>\n              <Col className=\"text-white x-large\" style={{fontSize: \"20px\"}}>Enable Camera</Col>\n              <Col>\n                <label className=\"switch\">\n                  <input onChange={(event) => {\n                    this.setState({enableCamera: event.target.checked});\n                    if (this.state.enableCamera) this.unsubscribeCameraTopic(); else this.subcribeCameraTopic();\n                  }\n                  }\n                  checked={this.state.enableCamera} type=\"checkbox\"\n                />\n                  <span className=\"slider round\"></span>\n                </label>\n              </Col>\n            </Row>\n            <Container className=\"camera-container\">\n              <img id=\"camera_id2\" width={320} src={tempImage} alt=\"new\"></img>\n            </Container>\n          </div>\n        </div>\n      </Container>\n    )\n  }\n}\n\nexport default Camera2;"]},"metadata":{},"sourceType":"module"}